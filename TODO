- Allow the user to retract a move when playing against an engine

- In edit mode, mouse-2 and mouse-3 should provide a drop-down list of
  pieces the square can be set to.  Cursor movement is really not the
  best for chess-images.  I still need to figure out how best to
  handle cursor-type with that display.

- There is presently no way to start a new game!

- Still need to test many areas:

  position editing

- Resize ascii windows after popup, so that the whole board is
  minimally visible

----------------------------------------------------------------------

- Port image display code to XEmacs

- Tie-in to ics.el, by adding "Internet opponent" to the opponents
  list.

- A way to set the time control, and display its status.

- After a castle, the rook might place the opponent's king in check.
  This is not considered at the moment.

- After piece promotion, change the piece accordingly and look for
  check posibilities (it's done with the pawn at the moment, which is
  useless).

- Handle en passant.

- Support chess by mail, with direct tie-ins to Gnus/RMAIL.

- Allow the opponent to give hints.

- Add a command that will load a saved game, continue it, and then
  enter a move for whichever color is next to play.  This would make
  it trivial to add chess drivers to AIM, IRC, etc.  The mere command
  "!chess johnw37 Nf3" would mean: load the chess game johnw37, and
  make my move as Nf3.  It would also make chess by e-mail a snap to
  implement.

- Add an analyze command that will indicate which pieces are defended,
  how well, which are attacked, which moves would increase
  defense/attack/both, etc.  Basically, everything that can be known
  about the current board, and one move ahead (on both sides).

- Add a warning mode that will use the results of an analysis to warn
  the user (and ask for confirmation) before doing something that
  might lead to an inferior position.

- Create chess-player.el, which creates persistent objects that
  encapsulate information about any player: where he is, his name, his
  opponent type, etc.  This would maintain a log of games against that
  player, their current chess rating, etc.  Then, M-x chess would ask
  you for a player, not an opponent.

- When editing the board in display mode (or doing speculative moves),
  doing them on a copy of the board with no hook except the display
  hook.  Then, if you like the result, it call be a `set' on the
  original board from the copied board.

- If moving your opponent's piece is bad, why let you select it in the
  first place?  Also, don't let them select a blank square.

- Allow a networked mode that uses the X display protocol to show the
  same board on two machines.  That way, the guest machine wouldn't
  even need to be running Emacs!

- Once this is in place, one could play games without a log by just
  sending the board config and move, back and forth.

- Add a Map command, that will colorize the squares depending on
  whether they are reachable by either side.  Green if reachable by
  you, Red if by your opponent, and blue if by both.  With a prefix
  argument, colorize only the squares that have pieces on them.  This
  is a stable modes that remains in effect until turned off.  It also
  requires the ability to pass a color to the chessboard highlighting
  routine.

- If a person selects a piece with the mouse, then uses right-click to
  designate a target square, display the resulting board without
  making a move.  This requires copying chessboard-current-board to
  chessboard-draft-board.  If the user right-clicks without selecting
  a piece, it will reset to chessboard-current-board and redraw.

- Using display-pixel-width, and the images known to be available,
  find the largest piece size that will fit.

- Break out the display code into its own set of modules, then
  parameterize the call into them so that alter size and change
  directory uses them.  Right now those two functions are hard-coded
  for image displays.
